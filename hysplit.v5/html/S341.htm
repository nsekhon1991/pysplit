<html>
<head>
<title>Concentration / Utilities / Convert to ASCII (S341)</title>
</head>
<body>

<p><h2>Concentration / Utilities / Convert to ASCII</h2></p>

<p>The Convert to ASCII menu option uses the con2asc program to
convert the binary concentration file to a simple ASCII file
composed of one record per grid point for all grid points where
concentrations at any level are non-zero. Concentrations for
multiple levels and pollutant species are all listed on the same
record for each grid point. The primary purpose of the conversion
is to create a file that can be imported into other applications.
An illustration of the GUI menu is shown below for the sample
concentration simulation.</p>

<center><p><img src="Image33.gif" width="560" height="382"></p></center>

<p>The Concentration Setup menu determines the file name selection
option on the GUI. There are some additional checkboxes that
correspond to various command line conversion options: 
<b>con2asc -[options (default)]</b></p>

<p>-c[Convert entire file flag]</p>
<ul>
<p>This option converts the entire binary input file, including all
index records, to an ASCII output file with the name {input file}.txt.
This option is not available through the GUI (use -s below).
Another program, called <i>conread</i>, also not available through the
GUI, can also be used to dump out the contents of the concentration
file. This program can only be run from the command line. For the -c
option, the output file format follows <a href="S363.htm">
the binary file format</a> record-by-record using the following
conventions.</p>

Meteorological model and starting time - A4, 6I4<br>
Starting time and locations - 4I4, 2F8.3, F10.1<br>
Concentration grid and spacing - 2I4, 2F8.4, 2F8.2<br>
Vertical grid index record - I4, 20I8<br>
Pollutant identification record - I4, 20A4<br>
Sample start time - 6I4<br>
Sample end time - 6I4<br>
Concentration record - A4, I6, 255(255E10.2)
</ul>

<p>-d[Delimit output by comma flag (rather than space delimited)]</p>
<ul>Set the <b>Comma Delimited</b> checkbox.</ul>

<p>-i[Input file name (cdump)]</p>

<p>-m[Minimum text output format flag]</p>
<ul>
Setting this flag turns off the writing of the first output record,
which is the column label field: DAY HOUR LAT LON SPECIES-LEVEL.
This option corresponds to the <b>Minimum Text</b> checkbox of
the GUI menu.
</ul>

<p>-o[Output file name base (Input File Name)]</p>
<ul>
The default base name for the output file is the input file name. 
A new output file is created for each sampling period, where the name
of the file is composed of the <i>{base name}_{Julian day}_{hour}</i>
of the sample ending time. If the <b>Include Minutes</b> box is checked,
then the minutes field of the sample ending time is added to the
end of file name. This field is not available through the GUI. The name
of each output file is always written to the file named <i>CON2ASC.OUT</i>
regardless of any other options selected.
</ul>

<p>-s[Single output file flag]</p>
<ul>This option corresponds to the <b>Single File</b> checkbox of the GUI
menu. The multi-time period ASCII output file is named {input file}.txt.</ul>

<p>-t[Time expanded (minutes) file name flag]</p>

-u[Units conversion multiplier for concentration (1.0)]<br>
-U[Units conversion multiplier for deposition (1.0)]
<ul>Values other than one in either of these fields will result in the
concentration or deposition results to be multiplied by these factors
prior to output. Deposition fields are identified by a zero in the
level height field.</ul> 

<p>-x[Extended precision flag]</p>
<ul>
The format of each record in the output file is given by:<br>
2I3 - End of Sample: Julian Day and Hour<br>
F7.2, F8.2 - Latitude and Longitude of grid cell<br>
45E9.2 - Concentration data (by level and pollutant)<br>

<p>If the <b>Extended Digits</b> checkbox of the precision options is
set, then the latitude and longitudes will be given by four digits
after the decimal place.</p>
</ul>

<p>-z[Zero points output flag]</p>
<ul>
<p>Setting the zero flag causes the program to output the concentration
values all all grid points, including the ones that are zero. This 
corresponds to the <b>Include Zero</b> checkbox of the GUI menu.</p>
</ul>


<p>Each output record is identified by the day (Julian: 1 to 365)
and hour (UTC) of the ending time of each sample. The ASCII
conversion of the first file generated by the sample calculation is
shown below in the illustration.</p>

<center><p><img src="Image34.gif" width="285" height="430"></p></center>

<br>
<hr>
<center><p><a href="index.htm">Table of Contents</a></p></center>
</body>
</html>
